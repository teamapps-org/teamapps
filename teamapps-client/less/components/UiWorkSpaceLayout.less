/*-
 * ========================LICENSE_START=================================
 * TeamApps
 * ---
 * Copyright (C) 2014 - 2024 TeamApps.org
 * ---
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *      http://www.apache.org/licenses/LICENSE-2.0
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * =========================LICENSE_END==================================
 */
.UiWorkSpaceLayout {
  display: flex;
  flex-direction: column;

  perspective: 1000px;

  > .toolbar-container {
    flex: 0 0 auto;
    margin: var(--ta-panel-gap) var(--ta-panel-gap) 0 var(--ta-panel-gap);

    .UiToolbar {
      box-shadow: 0 1px 4px rgba(0, 0, 0, .3);
    }
  }

  > .content-container-wrapper {
    flex: 1 1 1px;
    position: relative;
    margin: var(--ta-panel-gap);
    display: flex;
    flex-direction: column;
    > .content-container {
      flex: 1 1 1px;

      > * {
        width: 100%;
        height: 100%;
      }
    }
  }

  .bottom-bar {
    flex: 0 0 auto;
    align-items: center;
    justify-content: space-between;
    display: flex;
    background: var(--ta-bg-color-semi-transparent);
    box-shadow: 0 1px 4px rgba(0, 0, 0, .3);
    
    .minimized-tabpanel-button-container {
      padding: 1px 3px;
      display: flex;

      &:empty { // hide without removing for flex reasons!
        overflow: hidden;
        height: 0;
        padding: 0;
      }

      .minimized-tabpanel-button {
        display: flex;
        margin: 2px;
        padding: 5px;
        border: 1px solid rgba(0, 0, 0, .2);
        border-radius: var(--ta-border-radius);
        background-color: var(--ta-bg-color-semi-transparent);
        &:hover {
          background-color: var(--ta-bg-color);
        }
        .tab-icon {
          margin: 0 2px;
        }

        .optimized-for-touch & {
          padding: 7px;
        }
      }
    }
    .progress-container {
      display: inline-block;
      padding: 0 8px;

      > *.no-tasks {
        display: none;
      }
    }
  }

  .dnd-target-rectangle {
    position: absolute;
    border: 4px solid var(--ta-bg-color-semi-transparent);
    pointer-events: none;
    z-index: calc(var(--ta-zindex-window) - 1);
    background-color: var(--ta-color-primary);
    &:before {
      content: " ";
      position: absolute;
      top: -5px;
      left: -5px;
      right: -5px;
      bottom: -5px;
      border: 1px solid rgba(0, 0, 0, .3);
      box-shadow: 0 0 10px 0 rgba(0, 0, 0, .3);
    }
    &:after {
      content: " ";
      position: absolute;
      top: -1px;
      left: -1px;
      right: -1px;
      bottom: -1px;
      border: 1px solid rgba(0, 0, 0, .3);
      box-shadow: inset 0 0 10px 0 rgba(0, 0, 0, .3);
    }
  }

  .dnd-drag-image {
    position: absolute;
    top: -100000px;
    left: -100000px;

    .tab-button {
      display: inline-flex;
      padding: 2px 7px 2px 5px;
      height: 22px;
      border-top: 1px solid;
      border-left: 1px solid;
      border-top-left-radius: 5px;
      border-top-right-radius: 5px;
      border-top-color: var(--ta-color-warning);
      border-left-color: rgba(0, 0, 0, .2);
      background-color: rgba(255, 255, 255, 0.72);
      border-bottom: 1px solid rgba(0, 0, 0, .05);

      .tab-button-icon {
        margin-right: 5px;
      }
      .tab-button-close-button {
        display: none;
      }
      .tab-button-caption {
        white-space: nowrap;
        max-width: 180px;
        overflow-x: hidden;
        text-overflow: ellipsis;
      }
      .tab-button-filler {
        flex: 1 1 0px;
      }
    }
                                       
    &:after {
      content: ' ';
      display: block;
      width: 150px;
      height: 100px;
      background-color: var(--ta-bg-color-semi-transparent);
      border-top-right-radius: 5px;
      border-bottom-left-radius: 5px;
      border-bottom-right-radius: 5px;
    }
  }
}

.UiWorkSpaceLayout-maximization-container-wrapper {
  position: absolute;
  top: -100000px;
  padding: var();
  background-color: transparent;
  transition: background-color .5s;

  &.show {
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    background-color: rgba(0, 0, 0, .5);
  }

  .UiWorkSpaceLayout-maximization-container {
    width: 100%;
    height: 100%;
    animation-duration: .1s !important;
  }
}
